---
layout: post
title: 我在2013年所学到的
tags: [vm, hhvm]
---

这里记录了我在2013年的各种折腾，和2012年不同，这一年尝试了很多非技术领域，做了很多之前一直想做但没做成的事情

## Browser

首先是在浏览器方面，这依然是我的研究重点，Blink 的发展比我想象的要快很多，半年时间就改进了很多 WebKit 的问题，所以从下半年起我几乎不再关注 WebKit 了，后续重心也将全面偏向 Blink

另一个转变是只关注 Chromium for Android 的版本，可以说这是目前最复杂的 Android 应用，和普通的 Android 开发完全不同，它大量使用了底层系统的方法，通过它学到了不少知识，可惜就是调试太麻烦，尝试了无数个 GUI debugger 都失败了，只能用 cgdb 凑合，看起来唯一方法就是自己写了

年底比较意外地发现 Android 4.4 中已经使用 Chromium 来实现 WebView 实现，相信在2014年会赶上 iOS Safari

## Android

说到 Android，这也是我今年投入的重点，还买了台 Nexus 7，成为了我的第一个 Android 设备，Android 下的应用比之前预想的要好，不过我还没打算用安卓手机，尤其是在更深入了解 Android 后让我觉得用起来没有安全感

下了几个 Android 应用后发现很多都是靠推荐换积分才能用的，想购买都不行，感觉很不爽，正好看过《Android软件安全与逆向分析》这本书，于是开始玩起了破解，结果一下丢进去好几个周末，大部分应用只需简单修改重新打包就行了，甚至直接手动生成相关注册信息实现可升级的破解

想起十年前用 Windows 的时候一直很想了解那些高手是如何破解的，终于在今年体会了一下自己破解一个软件

除了简单的 dex（也就是 Android 的 Java 部分） 破解，还研究了一下 arm 汇编来破解 ndk 开发的库，不过并没有用上，倒是通过这种方式了解了很多应用都用到了什么技术

裸看 arm 汇编效率很低，要不断记下各个寄存器的值，而 IDA Pro 的 ARM Decompiler 实在是太贵（3479$），所以只好用 Hopper Disassembler 凑合，但效果差一般，很多常用函数都没认出来

另外通过破解还学习了很多安全方面的技术，也了解了之前一直觉得很神秘的杀毒软件技术，Android 由于系统的限制使得安全软件并没有 Windows 有那么大的权限，随着系统的改进，我觉得长远来看安全软件并没太大的必要，所以后续就没怎么关注了

除了破解，在下半年参与的某个项目中研究了一下 ndk 相关的技术，发现这个领域变化很快，涌现出了很多新东西，比如像 JUCE 这样靠谱的跨平台库，还有 Apportable 这种能直接编译 iOS 到 Android 的工具，相信在2014年跨平台开发会更加靠谱

## 3D Rendering

平时很喜欢看电影，所以对 CG 方面的技术很感兴趣，一直都想了解那些逼真的效果是如何实现的

今年偶然读了一本讲如何建模的书《Digital Modeling》，最大的收获是从整体上了解了实现一个 CG 都需要哪些部分，每部分的作用是什么，于是又开始了对这个领域的挑战

首先是学习 3D 软件的使用，在简单尝试了 Blender、Maya、Modo、Cinema 4D、DAZ Studio、LightWave 3D、Poser、ZBrush 后，我最终选择了 Cinema 4D 深入学习，现在发现这是一个挺正确的选择，Cinema 4D 用起来很方便，而且也有不错的物理渲染效果，终于通过这个软件对 CG 制作有了入门认识，对于后续学习 WebGL 也是非常有帮助的

比起 CG 创作，我更感兴趣的是背后的原理，所以 Cinema 4D 玩了一段时间就不玩了，开始研究技术，重新读了一遍《Interactive Computer Graphics》，发现又理解了不少内容，这是一个非常非常广的领域，而其中我最感兴趣的是渲染部分，尤其是那种非常真实的渲染效果

不过一般书籍里的渲染都是讲 Photon mapping‎，这是绝大部分游戏中的渲染效果，能通过少量的计算来获得不错的效果，但我并不满足，相对来说我还是更喜欢物理渲染

于是就开始啃《Physically Based Rendering》这本1200页的书，不过由于时间关系并没有看多少，希望能在2014年看完

话说去年我还偶尔会玩一些游戏，今年了解了渲染就基本不玩了，因为一眼就能识别出其中的假光源效果和粗糙的模型，顿时兴趣全无

除了渲染，今年终于弄懂了 OpenGL，然后有一段时间对游戏引擎感兴趣，四处收集开源引擎，甚至还有很多泄漏出来的商业引擎源码，可惜后来都没空看，因为兴趣转向 WebGL 了

有了 OpenGL 基础，WebGL 就简单了，尤其是有了 Three.js、Babylon.js 这样的库，开发起来相当方便

在线的 3D 渲染在今年开始兴起，尤其是 [Lagoa](https://lagoa.com) 让人印象深刻，感觉非常靠谱，看起来还真是一个趋势

## CUDA / OpenCL

了解了OpenGL 后发现 glsl 是一个大坑，可以用来做出海面等效果，不过这里面涉及很多算法，我没空研究，倒是让我又对它所引发的另一个领域感兴趣了

那就是 GPGPU，之前一直很想学高性能计算方面的知识，也简单翻过 CUDA 的书，但都没看懂，今年终于认真阅读了一遍，总算是明白怎么写了，但发现实在是太繁琐，要实现个算法比 CPU 麻烦得多，还是用 Theano、Rootbeer 这样更高层的库方便，加上平时用不到，所以就暂时放弃深入研究了，或许明年买个 Parallella 后可能会再折腾

## Virtual Machine

2012年的时候曾经有一段时间深入研究了虚拟机的相关技术，至今在 Evernote 上收录的资料有603篇，但因为平时工作并不需要这么深的了解，所以渐渐地就不再关注了

HHVM 的出现倒是给了我一个 Review 的机会，公司在 PHP 方面用得很多，消耗了大量的机器，老大希望能降低些成本，所以很关心 HHVM 是否能使用

为了给老大及其它同事讲清楚 HHVM 的原理，我花了2周时间写了一篇入门介绍文章，引用了大量资料，相信这篇文章能让很多人了解现代虚拟机的基本知识

## iOS

年初时还兴致勃勃地学 Objective-C，但 Apple 的封闭实在是让开发过程很不爽，我喜欢通过底层的原理来学习，不了解实现会让我感觉很不安，开发时经常遇到问题只能到处找资料和不断尝试

终于在某天证书过期时我放弃了，给自己写个小应用还得花半天折腾证书实在是很不划算

## 数据分析与人工智能

去年底还挺感兴趣的一个领域，在今年并没怎么花时间研究，主要卡在最优化理论上，一方面觉得太花时间，要复习很多高等数学的知识，另一方面开源库越来越完善了，就没太多动力去学习

我对《人工智能的未来》这本书印象最为深刻，仿佛在黑暗中看到了光明，后来才知道原来 Andrew Ng 就是受到这本书影响才重新拾起对机器学习的兴趣[引用](http://www.huxiu.com/article/14357/1.html)

新兴的 Deep Learning 技术虽然在语言和图像方面有突破，但我对这两方面都不太感兴趣，所以没怎么关注

现在回过头想想，虽然这方面的学习并没有给我的工作带来什么帮助，但这个过程还是很有意思的，也有很多收获，记得某天快速翻了一遍《The Elements of Statistical Learning》居然发现能看懂了，去年还觉得这是一本天书呢

## 绘画

应该很多人都和我一样，绘画水平还停留在小学，只会画简单的轮廓，每当看到栩栩如生的绘画时都会感到不可思议，觉得自己是无论如何也画不出来的

2年前还买了本书《五天学会绘画》，当时主要是被简介所忽悠了，说是苹果的企业创造力培训书，但结果买来后一直没看，今年终于抽空看了，还特地买了个 Bamboo 玩，结果发现这是今年最有价值的投资，完全改变我对绘画及细节的认识

当进入到右脑的细节思考模式时，你会忘记时间，你所看到的将不再是一整幅复杂的画面，而是一个个的细节点，比如颜色的深浅、阴影的变化，通过研究这些细节，你就能画出任意复杂的画面，这种感觉非常奇妙

对我而言最大的收获就是体验了右脑思考的强大，后来遇到复杂的技术时，我都会去仔细观察其中的细节，然后就会发现原来很简单，从此再也不畏惧任何复杂的技术了，使得后面的各种技术研究都很顺利

## 日本語

几年前一直都对英语很感兴趣，没事就边看美剧边学，但因为平时接触的英语很多，渐渐地就习以为常，不再有学习和进步的感觉，英语到一定程度后就很难突破了，需要常年的接触和积累，尤其是无穷无尽的短语，比如 「spot on」，这两个单词很简单，但通过单词却没法猜到这个短语的意思，只能遇到一个记一个

平时除了英语外偶尔还能看到日语，尤其是某些日文 blog 中有看起来不错的技术分析，所以打算学习一下日语，结果一发不可收拾，占据了我大量的周末时间，让我找回了学英语时的乐趣，能看懂和听懂一门语言的感觉是妙不可言，而且学习日语的投入产出比很高，因为绝大部分漢字的意思和中文是一样的，背单词比英语容易得多

目前看日剧的时间完全超过了美剧，由于文化的关系，我觉得日剧的代入感更强所以更吸引人

希望明年能达到 N2 水平

## 开车

拖了好多年，今年终于把这个基础技能掌握了，不过我觉得最有意思的是驾校里的广播音乐和考前教室里大家的紧张翻书，感觉仿佛回到了学校

## 经济学与投资

前几年看过一些忽悠大家投资的书，说什么下半生要靠投资来养活自己，加上周围有几个同事炒美股，所以今年花了些时间学习这方面的知识

虽然由于买房的关系，今年并没有开始投资股票，但还是学了很多经济学的基础知识，尤其是《经济为什么会崩溃》这本书，让我一下深刻理解了各种经济学名词背后的根源

后来看了很多期郎咸平的讲座，感觉心里哇凉哇凉的，未来经济形式很不乐观

## 系统性

以前一直以 Linus 为榜样，像他说的那样「start small, and think about the details」，埋头学习和做事，老被批评缺乏系统性，而我却坚持认为系统性这东西太虚，并不产生价值，所以并不在意

但《系统之美》这本书终于让我理解了什么叫系统性，以及系统性的重要，并从此开始制定部门的各项新制度，希望明年能取得明显的改善

## Conf

2013年我没有到现场参加任何技术会议，前几年偶然还是会去几次，但大都非常失落，感觉宝贵的时间就这样浪费了，所以今年干脆彻底不参加，将机会都给其它同事

不过如果有会议的视频或 slide 我基本都会看一遍，其中印象最深刻的是 Google I/O，我周末花了整整2天时间将最大部分视频都看过了，还认真做了笔记

另外年底的 Chrome Dev Summit 也很不错，看到了很多大牛

## 读书

今年开始习惯了买电子书，因为携带方便，可以随时随地看，平时用的比较多的是 Kindle 和多看

但由于周末时间很多花在了学车、日语等方面，所以阅读量明显少于去年，从豆瓣看看有105本，实际数量预计超过150，因为很多书快速翻过后发现没啥价值就懒得去记录了

以下是其中印象比较深的书：

* 《卓有成效的管理者》，其中每一句话都很有价值，值得反复阅读
* 《The Myths of Innovation》，比起琐碎的过程和长期的辛苦努力，我们更喜欢听灵光一闪的故事，更愿意相信有魔法和捷径的存在，但事实上创新并不神奇，你我都能做到
* 《邓小平时代》，太不容易了，做到了历史上所有皇帝都做不到的事情
* 《Operating System Concepts》，借新版重温了一下
* 《High Performance Browser Networking》，叙述方式很简洁明了，理论和实践结合且内容新颖，我也想写出这样风格的书
* 《煮酒探西游》，很有意思的一本书
* 《暗访十年》，通过这本书了解了很多骗人的手法
* 《众病之王》，至今为止看过的最引人入胜的一本科普书，就像在看一场圣战，从最初的束手无策到开始反击
* 《游戏改变世界》，其中描述的游戏中4个特征很有参考价值

明年预计阅读量会进一步减少，因为关注的领域变少了

## 回顾

看了一遍2013年的笔记后，发现知识点实在是太多了，各个方面都有，很难分类，感觉学习速度远比不上忘记的速度，很多知识是当时觉得后续可能会用到，但很长时间没用到就忘记了，结果在用到的时候又去找半天，浪费了不少时间

2013年尝试了太多的事情，导致重点不清晰，现在想想有些事情其实是不必要的，应该果断暂停

